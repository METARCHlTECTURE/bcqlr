---
title: 速查表：正则表达式
categories: 02-Tips
tags: Cheatsheet
---

## 语法

#### 基本字符匹配

| **符号** | **描述**                       | **示例**                     |
| -------- | ------------------------------ | ---------------------------- |
| `.`      | 匹配任意单个字符（换行符除外） | `a.b` 匹配 `acb`, `a1b`      |
| `^`      | 匹配字符串开头                 | `^abc` 匹配 `abc123`         |
| `$`      | 匹配字符串结尾                 | `abc$` 匹配 `123abc`         |
| `\`      | 转义特殊字符                   | `\.` 匹配 `.`                |
| `|`      | 或（匹配符号两边的任意一方）      | `a|b` 匹配 `a` 或 `b` |

#### 字符类

| **符号** | **描述**                          | **示例**                      |
| -------- | --------------------------------- | ----------------------------- |
| `[abc]`  | 匹配 `a`、`b`、`c` 中任意一个字符 | `b[aeiou]t` 匹配 `bat`, `bet` |
| `[^abc]` | 匹配不在 `a`、`b`、`c` 的任意字符 | `[^0-9]` 匹配非数字字符       |
| `[a-z]`  | 匹配从 `a` 到 `z` 的任意小写字母  | `a[a-z]c` 匹配 `abc`, `acc`   |
| `[A-Z]`  | 匹配从 `A` 到 `Z` 的任意大写字母  | `[A-Z]` 匹配 `F`, `G`         |
| `[0-9]`  | 匹配任意数字                      | `[0-9]{3}` 匹配三位数字       |
| `\d`     | 匹配任意数字，相当于 `[0-9]`      | `\d{3}` 匹配三位数字          |
| `\D`     | 匹配非数字字符，相当于 `[^0-9]`   | `\D+` 匹配非数字的多个字符    |
| `\w`     | 匹配字母、数字、下划线            | `\w+` 匹配单词或标识符        |
| `\W`     | 匹配非字母、数字或下划线          | `\W+` 匹配符号                |
| `\s`     | 匹配空白字符（空格、制表符等）    | `\s+` 匹配多个空白字符        |
| `\S`     | 匹配非空白字符                    | `\S+` 匹配多个非空白字符      |


#### 量词

| **符号** | **描述**                           | **示例**                   |
| -------- | ---------------------------------- | -------------------------- |
| `*`      | 匹配前一个字符零次或多次           | `a*` 匹配 `""`, `a`, `aaa` |
| `+`      | 匹配前一个字符一次或多次           | `a+` 匹配 `a`, `aaa`       |
| `?`      | 匹配前一个字符零次或一次           | `a?` 匹配 `""`, `a`        |
| `{n}`    | 匹配前一个字符恰好 n 次            | `a{3}` 匹配 `aaa`          |
| `{n,}`   | 匹配前一个字符至少 n 次            | `a{2,}` 匹配 `aa`, `aaa`   |
| `{n,m}`  | 匹配前一个字符至少 n 次，至多 m 次 | `a{2,4}` 匹配 `aa`, `aaa`  |

#### 断言

| **符号**   | **描述**                           | **示例**                           |
| ---------- | ---------------------------------- | ---------------------------------- |
| `(?=...)`  | 正向先行断言，后面必须跟着某些字符 | `a(?=b)` 匹配 `a`，后跟 `b` 的位置 |
| `(?!...)`  | 负向先行断言，后面不能跟着某些字符 | `a(?!b)` 匹配 `a`，不跟 `b` 的位置 |
| `(?<=...)` | 正向后行断言，前面必须跟着某些字符 | `(?<=b)a` 匹配 `a`，前面是 `b`     |
| `(?<!...)` | 负向后行断言，前面不能跟着某些字符 | `(?<!b)a` 匹配 `a`，前面不是 `b`   |

#### 分组与引用

| **符号**  | **描述**                  | **示例**                           |
| --------- | ------------------------- | ---------------------------------- |
| `(...)`   | 捕获分组                  | `(abc)+` 匹配 `abc`, `abcabc`      |
| `(?:...)` | 非捕获分组                | `(?:abc)+` 匹配 `abcabc`，但不捕获 |
| `\n`      | 反向引用第 n 个捕获的分组 | `(abc)\1` 匹配 `abcabc`            |

#### 换行符

| **组合** | **描述**                       |
| -------- | ------------------------------ |
| `\r\n`   | 匹配 Windows 中的换行符        |
| `\n`     | 匹配 Linux 和 macOS 中的换行符 |
| `\r      | \n`                            | 匹配所有类型的换行符 |

#### 常见组合

| **组合**         | **描述**                                                            |
| ---------------- | ------------------------------------------------------------------- |
| `[ -~]`          | 所有英文字母、字符，即ASCII中从空格（ ）到波浪号（~）之间的所有字符 |
| `[^ -~]`         | 可匹配所有非英文字母字符，如中文                                    |
| `(\b\w+\b)\s+\1` | 匹配重复出现的字符串（去除重复字符）                                |
| `\s{2,}`         | 匹配多个空格                                                        |

## 常见正则表达式

| **匹配对象** | **正则表达式**                                        | **举例** |
| 邮箱地址| `^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$` | 有效的电子邮件地址，允许字母、数字、下划线、加号和点号作为用户名 |
| IPv4地址| `\b(?:\d{1,3}\.){3}\d{1,3}\b` | 典型的 IPv4 地址，例如 `192.168.1.1`。它允许每个片段的数字范围为 1 到 3 位数，但不验证范围是否合法 |
| URL| `https?:\/\/(www\.)?[a-zA-Z0-9-]+\.[a-zA-Z]{2,6}(\.[a-zA-Z]{2,6})?([\/a-zA-Z0-9#]+\/?)*(\?[a-zA-Z0-9-_=&]+)?$` | 以 `http://` 或 `https://` 开头的 URL，并支持参数和路径 |
| HTML标签| `<([a-zA-Z][a-zA-Z0-9]*)\b[^>]*>(.*?)<\/\1>` |  HTML 标签及其内容。`<tag>content</tag>` 形式，捕获标签名和内容 |
| 电话号码（国际格式）| `^\+?[1-9]\d{1,14}$` | 国际电话号码格式，例如 `+1234567890`。允许开头的 `+` 和 1 到 15 位数字 |
| 日期（YYYY-MM-DD 或 YYYY/MM/DD）| `^\d{4}[-\/](0[1-9]|1[0-2])[-\/](0[1-9]|[12][0-9]|3[01])$` | 日期格式为 `YYYY-MM-DD` 或 `YYYY/MM/DD` |
| 时间（HH:MM:SS）| `^(?:[01]\d|2[0-3]):[0-5]\d:[0-5]\d$` |  24 小时制的时间格式，允许 `00:00:00` 到 `23:59:59` |
| 信用卡号码| `^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$` | 常见的信用卡号码格式，包括 Visa、MasterCard、American Express 等 |
| ISBN（10或13位）| `^(?:ISBN(?:-13)?:? )?(?=[0-9]{13}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)97[89][- ]?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9]$` | 书籍的 ISBN 编号（10位或13位） |
| 十六进制颜色代码| `^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$` | 十六进制颜色代码，支持短写（#RGB）和完整写法（#RRGGBB） |
| 时间戳（Unix时间戳）| `^\d{10}$` |  Unix 时间戳（10 位数字） |
| CSS属性| `[a-zA-Z\-]+:\s*[^;]+;` |  CSS 样式中的属性-值对。例如 `color: red;` |
| UUID| `^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$` |  UUID（通用唯一识别码），形如 `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx` |
| 浮点数| `^[+-]?(?=\d|\.\d)\d*(\.\d+)?([eE][+-]?\d+)?$` | 浮点数，支持正负号和科学计数法 |
| 非负整数| `^\d+$` | 非负整数 |
| MAC地址| `^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$` |  MAC 地址，格式如 `00:1A:2B:3C:4D:5E` 或 `00-1A-2B-3C-4D-5E` |
| Windows 文件路径| `^[a-zA-Z]:\\(?:[^\\\/:*?"<>|\r\n]+\\)*[^\\\/:*?"<>|\r\n]*$` |  Windows 文件路径，如 `C:\Program Files\App\app.exe` |
| Unix/Linux 文件路径 | `(\/[^\0<>:"|?*]+)+\/?` | 如 `/home/user/file.txt` 和 `/usr/local/bin/`|
| Twitter 用户名| `^@?(\w){1,15}$` |  Twitter 用户名，最多 15 个字符，允许字母、数字、下划线，支持开头的 `@`|
| Markdown 链接| `\[(.*?)\]\((https?:\/\/[^\s]+)\)` | Markdown 格式的链接，如 `[example](http://example.com)`|
| IPv6地址 |`(([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:))|(([0-9a-fA-F]{1,4}:){1,7}:)|(([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4})|(([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2})|(([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3})|(([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4})|(([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5})|([0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6}))|(:((:[0-9a-fA-F]{1,4}){1,7}|:))|(::[fF]{4}:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3})|([0-9a-fA-F]{1,4}:([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))`  | |
| 所有Emoji | `"(?:[\uD83C\uDF00-\uD83D\uDDFF]|[\uD83E\uDD00-\uD83E\uDDFF]|[\uD83D\uDE00-\uD83D\uDE4F]|[\uD83D\uDE80-\uD83D\uDEFF]|[\u2600-\u26FF]\uFE0F?|[\u2700-\u27BF]\uFE0F?|\u24C2\uFE0F?|[\uD83C\uDDE6-\uD83C\uDDFF]{1,2}|[\uD83C\uDD70\uD83C\uDD71\uD83C\uDD7E\uD83C\uDD7F\uD83C\uDD8E\uD83C\uDD91-\uD83C\uDD9A]\uFE0F?|[\u0023\u002A\u0030-\u0039]\uFE0F?\u20E3|[\u2194-\u2199\u21A9-\u21AA]\uFE0F?|[\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55]\uFE0F?|[\u2934\u2935]\uFE0F?|[\u3030\u303D]\uFE0F?|[\u3297\u3299]\uFE0F?|[\uD83C\uDE01\uD83C\uDE02\uD83C\uDE1A\uD83C\uDE2F\uD83C\uDE32-\uD83C\uDE3A\uD83C\uDE50\uD83C\uDE51]\uFE0F?|[\u203C\u2049]\uFE0F?|[\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE]\uFE0F?|[\u00A9\u00AE]\uFE0F?|[\u2122\u2139]\uFE0F?|\uD83C\uDC04\uFE0F?|\uD83C\uDCCF\uFE0F?|[\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA]\uFE0F?)"` | |
|AV Code| `\(Av[0-9]+,P[0-9]+\)`| |
| av title |^[\u0000-\uFFFF]* \- (?=\d)|\(Av[0-9]+,P[0-9]+\) | |
|SRT to Texts|`\n\n[0-9]+\n[0-9]+:[0-9]+:[0-9]+,[0-9]+ --> [0-9]+:[0-9]+:[0-9]+,[0-9]+\n`|