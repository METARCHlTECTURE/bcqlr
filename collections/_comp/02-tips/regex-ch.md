---
title: Regular Expressions Cheatsheet
categories: 02-Tips
tags: Cheatsheet
---

## 语法

#### 基本字符匹配

| **符号** | **描述**                       | **示例**                     |
| -------- | ------------------------------ | ---------------------------- |
| `.`      | 匹配任意单个字符（换行符除外） | `a.b` 匹配 `acb`, `a1b`      |
| `^`      | 匹配字符串开头                 | `^abc` 匹配 `abc123`         |
| `$`      | 匹配字符串结尾                 | `abc$` 匹配 `123abc`         |
| `\`      | 转义特殊字符                   | `\.` 匹配 `.`                |
| `|`                              | 或（匹配符号两边的任意一方） | `a | b` 匹配 `a` 或 `b` |

#### 字符类

| **符号** | **描述**                          | **示例**                      |
| -------- | --------------------------------- | ----------------------------- |
| `[abc]`  | 匹配 `a`、`b`、`c` 中任意一个字符 | `b[aeiou]t` 匹配 `bat`, `bet` |
| `[^abc]` | 匹配不在 `a`、`b`、`c` 的任意字符 | `[^0-9]` 匹配非数字字符       |
| `[a-z]`  | 匹配从 `a` 到 `z` 的任意小写字母  | `a[a-z]c` 匹配 `abc`, `acc`   |
| `[A-Z]`  | 匹配从 `A` 到 `Z` 的任意大写字母  | `[A-Z]` 匹配 `F`, `G`         |
| `[0-9]`  | 匹配任意数字                      | `[0-9]{3}` 匹配三位数字       |
| `\d`     | 匹配任意数字，相当于 `[0-9]`      | `\d{3}` 匹配三位数字          |
| `\D`     | 匹配非数字字符，相当于 `[^0-9]`   | `\D+` 匹配非数字的多个字符    |
| `\w`     | 匹配字母、数字、下划线            | `\w+` 匹配单词或标识符        |
| `\W`     | 匹配非字母、数字或下划线          | `\W+` 匹配符号                |
| `\s`     | 匹配空白字符（空格、制表符等）    | `\s+` 匹配多个空白字符        |
| `\S`     | 匹配非空白字符                    | `\S+` 匹配多个非空白字符      |

#### 量词

| **符号** | **描述**                           | **示例**                   |
| -------- | ---------------------------------- | -------------------------- |
| `*`      | 匹配前一个字符零次或多次           | `a*` 匹配 `""`, `a`, `aaa` |
| `+`      | 匹配前一个字符一次或多次           | `a+` 匹配 `a`, `aaa`       |
| `?`      | 匹配前一个字符零次或一次           | `a?` 匹配 `""`, `a`        |
| `{n}`    | 匹配前一个字符恰好 n 次            | `a{3}` 匹配 `aaa`          |
| `{n,}`   | 匹配前一个字符至少 n 次            | `a{2,}` 匹配 `aa`, `aaa`   |
| `{n,m}`  | 匹配前一个字符至少 n 次，至多 m 次 | `a{2,4}` 匹配 `aa`, `aaa`  |

#### 断言

| **符号**   | **描述**                           | **示例**                           |
| ---------- | ---------------------------------- | ---------------------------------- |
| `(?=...)`  | 正向先行断言，后面必须跟着某些字符 | `a(?=b)` 匹配 `a`，后跟 `b` 的位置 |
| `(?!...)`  | 负向先行断言，后面不能跟着某些字符 | `a(?!b)` 匹配 `a`，不跟 `b` 的位置 |
| `(?<=...)` | 正向后行断言，前面必须跟着某些字符 | `(?<=b)a` 匹配 `a`，前面是 `b`     |
| `(?<!...)` | 负向后行断言，前面不能跟着某些字符 | `(?<!b)a` 匹配 `a`，前面不是 `b`   |

#### 分组与引用

| **符号**  | **描述**                  | **示例**                           |
| --------- | ------------------------- | ---------------------------------- |
| `(...)`   | 捕获分组                  | `(abc)+` 匹配 `abc`, `abcabc`      |
| `(?:...)` | 非捕获分组                | `(?:abc)+` 匹配 `abcabc`，但不捕获 |
| `\n`      | 反向引用第 n 个捕获的分组 | `(abc)\1` 匹配 `abcabc`            |

## 常见正则表达式

#### 1. 匹配邮箱地址

```regex
^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$
```
用以匹配有效的电子邮件地址，允许字母、数字、下划线、加号和点号作为用户名。

#### 2. 匹配IPv4地址

```regex
\b(?:\d{1,3}\.){3}\d{1,3}\b
```
用以匹配典型的 IPv4 地址，例如 `192.168.1.1`。它允许每个片段的数字范围为 1 到 3 位数，但不验证范围是否合法。

#### 3. 匹配IPv6地址

```regex
(([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:))|(([0-9a-fA-F]{1,4}:){1,7}:)|(([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4})|(([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2})|(([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3})|(([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4})|(([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5})|([0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6}))|(:((:[0-9a-fA-F]{1,4}){1,7}|:))|(::[fF]{4}:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3})|([0-9a-fA-F]{1,4}:([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))
```
用以匹配IPv6地址。

#### 4. 匹配URL

```regex
https?:\/\/(www\.)?[a-zA-Z0-9-]+\.[a-zA-Z]{2,6}(\.[a-zA-Z]{2,6})?([\/a-zA-Z0-9#]+\/?)*(\?[a-zA-Z0-9-_=&]+)?$
```
用以匹配以 `http://` 或 `https://` 开头的 URL，并支持参数和路径。

#### 5. 匹配HTML标签

```regex
<([a-zA-Z][a-zA-Z0-9]*)\b[^>]*>(.*?)<\/\1>
```
用以匹配 HTML 标签及其内容。`<tag>content</tag>` 形式，捕获标签名和内容。

#### 6. 匹配电话号码（国际格式）


```regex
^\+?[1-9]\d{1,14}$
```
用以匹配国际电话号码格式，例如 `+1234567890`。允许开头的 `+` 和 1 到 15 位数字。

#### 7. 匹配日期（YYYY-MM-DD 或 YYYY/MM/DD）

```regex
^\d{4}[-\/](0[1-9]|1[0-2])[-\/](0[1-9]|[12][0-9]|3[01])$
```
用以匹配日期格式为 `YYYY-MM-DD` 或 `YYYY/MM/DD`。

#### 8. 匹配时间（HH:MM:SS）

```regex
^(?:[01]\d|2[0-3]):[0-5]\d:[0-5]\d$
```
用以匹配 24 小时制的时间格式，允许 `00:00:00` 到 `23:59:59`。

#### 9. 匹配信用卡号码

```regex
^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$
```
用以匹配常见的信用卡号码格式，包括 Visa、MasterCard、American Express 等。

#### 10. 匹配ISBN（10或13位）

```regex
^(?:ISBN(?:-13)?:? )?(?=[0-9]{13}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)97[89][- ]?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9]$
```
用以匹配书籍的 ISBN 编号（10位或13位）。

#### 11. 匹配十六进制颜色代码

```regex
^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$
```
用以匹配十六进制颜色代码，支持短写（#RGB）和完整写法（#RRGGBB）。

#### 12. 匹配时间戳（Unix时间戳）

```regex
^\d{10}$
```
用以匹配 Unix 时间戳（10 位数字）。

#### 13. 匹配CSS属性

```regex
[a-zA-Z\-]+:\s*[^;]+;
```
用以匹配 CSS 样式中的属性-值对。例如 `color: red;`。

#### 14. 匹配UUID

```regex
^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
```
用以匹配 UUID（通用唯一识别码），形如 `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`。

#### 15. 匹配浮点数

```regex
^[+-]?(?=\d|\.\d)\d*(\.\d+)?([eE][+-]?\d+)?$
```
用以匹配浮点数，支持正负号和科学计数法。

#### 16. 匹配非负整数

```regex
^\d+$
```
用以匹配非负整数。

#### 17. 匹配MAC地址

```regex
^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$
```
用以匹配 MAC 地址，格式如 `00:1A:2B:3C:4D:5E` 或 `00-1A-2B-3C-4D-5E`。

#### 18. 匹配文件路径（Windows）

```regex
^[a-zA-Z]:\\(?:[^\\\/:*?"<>|\r\n]+\\)*[^\\\/:*?"<>|\r\n]*$
```
用以匹配 Windows 文件路径，如 `C:\Program Files\App\app.exe`。

#### 19. 匹配Twitter用户名

```regex
^@?(\w){1,15}$
```
用以匹配 Twitter 用户名，最多 15 个字符，允许字母、数字、下划线，支持开头的 `@`。

#### 20. 匹配Markdown链接

```regex
\[(.*?)\]\((https?:\/\/[^\s]+)\)
```
用以匹配 Markdown 格式的链接，如 `[example](http://example.com)`。